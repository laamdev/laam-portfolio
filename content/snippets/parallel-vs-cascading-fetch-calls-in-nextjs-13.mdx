---
title: Parallel vs. Cascading fetch calls in Nextjs 13
publishedAt: "2023-08-03"
summary: xxx.
---

```jsx
const fetchData = async (endpoint) => {
  const response = await fetch(
    `https://jsonplaceholder.typicode.com/${endpoint}`
  )
  return response.json()
}
```

## Waterfall Calls

- One of your calls depends on the data fetched from the other
- Use await in both calls

```jsx
const waterfall = async () => {
  const user = await fetchData("users/1")
  const userPorsts = await fetchData(`posts?userId=${user.id}`)
}
```

## Parallel Calls

- Calls are data independent from each other
- Group both calls inside a Promise.all
- Don't await each call, instead await the Promise

```jsx
const parallel = async () => {
  const usersData = fetchData("users")
  const postsData = fetchData("posts")
  const [users, posts] = await Promise.all([usersData, postsData])
}
```
